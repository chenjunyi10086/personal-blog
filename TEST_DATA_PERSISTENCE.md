# 🧪 测试数据持久化步骤

## 📋 快速测试指南

### 1. 添加测试数据
```
1. 打开视频页面
2. 点击 "添加测试视频" 按钮
3. 等待视频添加完成
4. 检查控制台输出
```

### 2. 验证保存
```
1. 打开浏览器开发者工具 (F12)
2. 切换到 Application 标签页
3. 左侧选择 Storage → Local Storage
4. 查看是否有 'videos' 键
5. 检查值是否包含你的视频数据
```

### 3. 刷新测试
```
1. 刷新页面 (F5 或 Ctrl+R)
2. 观察控制台输出
3. 检查视频是否还在页面上
```

### 4. 数据导出测试
```
1. 点击 "导出数据" 按钮
2. 检查下载的 JSON 文件
3. 确认文件包含你的视频数据
```

### 5. 数据导入测试
```
1. 删除当前测试视频
2. 点击 "导入数据" 按钮
3. 选择刚才导出的文件
4. 确认数据恢复成功
```

## 🔍 调试信息

在浏览器控制台中，你应该看到这些信息：

### 添加视频时：
```
开始加载数据...
从 localStorage 读取视频数据: [...]
解析后的视频数据: [...]
数据加载完成: {videos: 1, categories: 4, collections: 0}
```

### 保存视频时：
```
保存视频数据到 localStorage: [{"id":"...", "title":"..."}]
视频数据保存成功
视频添加成功！
```

### 刷新页面时：
```
开始加载数据...
从 localStorage 读取视频数据: [{"id":"...", "title":"..."}]
解析后的视频数据: [{"id":"...", "title":"..."}]
数据加载完成: {videos: 1, categories: 4, collections: 0}
```

## ⚠️ 如果仍然丢失数据

### 检查浏览器设置：
1. **隐私模式**: 确保不在隐私/无痕模式下
2. **清除设置**: 检查浏览器是否设置为关闭时清除数据
3. **扩展程序**: 某些隐私扩展可能清除 localStorage

### 手动检查 localStorage：
```javascript
// 在浏览器控制台执行
localStorage.getItem('videos')
localStorage.setItem('test', 'hello')
localStorage.getItem('test')
```

### 如果 localStorage 不工作：
1. 尝试其他浏览器 (Chrome, Firefox, Edge)
2. 检查磁盘空间是否充足
3. 重启浏览器

## 📞 仍需帮助？

如果按照上述步骤仍然丢失数据，请提供：
1. 浏览器类型和版本
2. 控制台错误信息截图
3. localStorage 内容截图

这样我可以进一步诊断问题！